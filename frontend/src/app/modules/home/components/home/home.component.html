<div class="main-wrapper" [ngClass]="wrapperThemeClasses | async">
  <aside class="main-navigation" [class.navigation-opened]="difyFacade.sidebarOpened$ | async">
    <div class="sidebar" [class.open]="difyFacade.sidebarOpened$ | async">
      <ul class="nav-list">
        <li *ngFor="let item of menuItems">
          <a 
            [routerLink]="item.route" 
            [routerLinkActiveOptions]="{ exact: item.exact }" 
            routerLinkActive="active-item">
            <i class='pi' [ngClass]="'pi-' + item.icon"></i>
            <span class="links-name">{{ item.caption }}</span>
          </a>
          <span class="tooltip">{{ item.caption }}</span>
        </li>
      </ul>
      <button 
        pButton 
        type="button" 
        icon="pi pi-angle-right" 
        class="
          p-button-text
          p-button-secondary
          p-button-rounded
          toggle-menu-button 
          absolute
          top-2/4 
          right-0
          h-7
          w-7"
        [class.toggle-menu-button-rotate]="difyFacade.sidebarOpened$ | async"
        (click)="difyFacade.toggleSidebar()">
      </button>
    </div>
  </aside>
  <header class="main-header">
    <button 
      pButton 
      type="button" 
      [icon]="(themeIcon | async)"
      class="
        p-button-text
        p-button-secondary
        p-button-rounded
        h-8 
        w-8
        theme-button"
      [ngClass]="themeIconClasses | async"
      (click)="difyFacade.switchTheme()">
    </button>
  </header>
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>
<app-incoming-call-notification 
  [incomingCall]="incomingCallEvent"
  (joinCall)="joinIncomingCall($event)"
  (declineCall)="declineIncomingCall($event)">
</app-incoming-call-notification>
<p-toast></p-toast>
